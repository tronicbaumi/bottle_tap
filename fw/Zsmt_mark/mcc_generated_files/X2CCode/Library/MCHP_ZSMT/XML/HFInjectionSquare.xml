<?xml version="1.0" encoding="utf-8"?><!--V.0.29--><ControlBlock BlockId="605" BlockName="HFInjectionSquare" LibraryName="MCHP_ZSMT" Author="rkothbauer" Revision="1.1" DateCreated="2013-02-28" DateLastChange="2023-08-10" Prompt="X2C High Frequency Injection Square Block" Order="0" SampleTimeFactor="1" TexFile="HFInjectionSquare_Info" LibraryType="INTERNAL" PreNameSpace="at.lcm.x2c" DefaultImplementation="FiP16" DirectFeedThrough="true" ParameterId="0" IsStaticId="false" IsConversionOnTarget="false" TaskLabel=""><BlockLicense Type="Commercial (LCM)"><CopyrightStatement>Copyright (c) 2018, Linz Center of Mechatronics GmbH (LCM) http://www.lcm.at/
All rights reserved.</CopyrightStatement><LicenseStatement></LicenseStatement><Header>This file is part of X2C. http://x2c.lcm.at/
$LastChangedRevision: 2128 $
$LastChangedDate:: 2021-02-02 14:38:09 +0100#$</Header></BlockLicense><Description>High frequency square wave voltage injection:
 - Voltage Injection: injects a square-wave voltage signal with fPWM/2 and adjustable amplitude
 - Estimator: Calculates rotor angle and speed based on current response due to voltage injection
BE AWARE:
This block needs to be in synchronization with the current controller!</Description><Mask Name=""><InportContainer><MaskInport Name="iAlpha"><Description>Direct current in fixed coordinate system</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport><MaskInport Name="iBeta"><Description>Quadrature current in fixed coordinate system</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport><MaskInport Name="n0"><Description>Initial speed preloaded at rising edge of Enable signal</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport><MaskInport Name="phi0"><Description>Initial rotor angle preloaded at rising edge of Enable signal</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport><MaskInport Name="Enable"><Description>Enable == 0: Deactivation of this block; Outputs are set to zero
Enable 0-&gt;1: Preload of angle and speed for internal integrators
Enable == 1: Activation of this block</Description><ConnectedOutport Name=""><BlockLink Name=""></BlockLink></ConnectedOutport></MaskInport></InportContainer><OutportContainer><MaskOutport Name="ud"><Description>Once the HFI is activated, on Ud the square-wave voltage signal is present that is supposed to be injected.</Description></MaskOutport><MaskOutport Name="i_eps"><Description>Error current in q-direction due to HF-injection.
(Only needed for parametrization of block.)</Description></MaskOutport><MaskOutport Name="n"><Description>Angular speed</Description></MaskOutport><MaskOutport Name="phi"><Description>Estimated electrical rotor angle</Description></MaskOutport></OutportContainer><ParameterContainer><MaskParameter Name="U_inj" Prompt="Injection: HF voltage amplitude [V]"><Description>Amplitude of injected square wave voltage</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="Jp" Prompt="Estimator: Moment of inertia [kg*m^2]"><Description>Moment of inertia of rotor (and load)</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="I_inj" Prompt="Estimator: HF current amplitude [A]"><Description>Error current due to HF voltage injection into wrong direction</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="fo" Prompt="Estimator: fo [Hz]"><Description>Frequency of observer pole. The higher the pole is chosen, the more dynamic is the angle estimation.</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="p" Prompt="Motor Data: p (Number of pole pairs)"><Description>Number of pole pairs</Description><MaskDouble><Value><Numeric>1.0</Numeric></Value><DefaultValue><Numeric>1.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="n_max" Prompt="Scaling: n_max [rpm]"><Description>Maximum (mechanical) speed
(Only used for scaling in fixed point implementations)</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="I_max" Prompt="Scaling: I_max [A]"><Description>Maximum current
(Only used for scaling in fixed point implementations)</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="U_max" Prompt="Scaling: U_max [V]"><Description>Maximum voltage
(Only used for scaling in fixed point implementations)</Description><MaskDouble><Value><Numeric>0.0</Numeric></Value><DefaultValue><Numeric>0.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="ts_fact" Prompt="Sample Time Multiplier"><Description>Multiplication factor of base sampling time (in integer format).</Description><MaskDouble><Value><Numeric>1.0</Numeric></Value><DefaultValue><Numeric>1.0</Numeric></DefaultValue></MaskDouble></MaskParameter><MaskParameter Name="estimation" Prompt="Speed estimation type"><Description>Select where to place the emphasis of the speed output: dynamic or noise</Description><MaskComboBox><Value><String>less noise</String></Value><DefaultValue><String>less noise</String></DefaultValue><Content><Item><String>high dynamic range</String></Item><Item><String>less noise</String></Item></Content></MaskComboBox></MaskParameter><MaskParameter Name="method" Prompt="Discretization Method"><Description>Discretization method of of used LTI systems (PI, I)</Description><MaskComboBox><Value><String>zoh</String></Value><DefaultValue><String>zoh</String></DefaultValue><Content><Item><String>zoh</String></Item><Item><String>tustin</String></Item></Content></MaskComboBox></MaskParameter></ParameterContainer><Visualizations><Visualization Name="ScilabXcos" Type="VisualizationScilabXcos"><ScriptDefineSection></ScriptDefineSection><ScriptPlotSection></ScriptPlotSection><ScriptStyle><Item>style.image = "file:///" + curDir + "/../Doc/Images/HFInjectionSquare_Xcos.svg"</Item></ScriptStyle><BlockIconDefaultSize>[5 6]</BlockIconDefaultSize></Visualization><Visualization Name="Matlab" Type="VisualizationMatlab"><Command><Item>patch([0 1 1], [0 0 0.25], [0.91 0.84 0])</Item><Item></Item><Item>port_label('input',1,'i_D','texmode','on')</Item><Item>port_label('input',2,'i_Q','texmode','on')</Item><Item>port_label('input',3,'n_{0}','texmode','on')</Item><Item>port_label('input',4,'\phi_{0}','texmode','on')</Item><Item>port_label('input',5,'Enable')</Item><Item></Item><Item>port_label('output',1,'u_d','texmode','on')</Item><Item>port_label('output',2,'i_{\epsilon}','texmode','on')</Item><Item>port_label('output',3,'n','texmode','on')</Item><Item>port_label('output',4,'\phi','texmode','on')</Item><Item></Item><Item>image([getenv(char(at.lcm.x2c.utils.Utils.ENV_VAR_NAME)),'Library\MCHP_ZSMT\Doc\Images\HFInjectionSquare.svg'])</Item><Item></Item></Command></Visualization></Visualizations></Mask><ImplementationConfig><ExistingImplementationContainer><Implementation Id="1" Name="FiP16" FriendlyName="16 Bit Fixed Point" Author="rkothbauer" Revision="1.0" DateCreated="2013-02-28" DateLastChange="2021-08-12" CFileName="HFInjectionSquare_FiP16.c" HFileName="HFInjectionSquare_FiP16.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>16 Bit Fixed Point Implementation</Description><InportContainer><ImplementationInport Name="iAlpha" DataType="INT16"></ImplementationInport><ImplementationInport Name="iBeta" DataType="INT16"></ImplementationInport><ImplementationInport Name="n0" DataType="INT16"></ImplementationInport><ImplementationInport Name="phi0" DataType="INT16"></ImplementationInport><ImplementationInport Name="Enable" DataType="BOOL"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="ud" DataType="INT16"></ImplementationOutport><ImplementationOutport Name="i_eps" DataType="INT16"></ImplementationOutport><ImplementationOutport Name="n" DataType="INT16"></ImplementationOutport><ImplementationOutport Name="phi" DataType="INT16"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="uInjAmp" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Amplitude of injected square wave voltage</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sampleCnt" DataType="INT8" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Sample counter</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="iyArr" DataType="INT32" isLoadable="false" isSaveable="false" isArray="true" isFlashArray="false" arraySize="5"><Description>Array with recent current values in estimated y coordinate</Description><Value><Numeric>[0.0 0.0 0.0 0.0 0.0]</Numeric></Value></ImplementationParameter><ImplementationParameter Name="enable_old" DataType="BOOL" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Enable value of previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_torque" DataType="INT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Torque integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_speed" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_angle" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="vGain" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional gain value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrGain" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor of proportional gain</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_torque" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_torque" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb0_torque" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b0</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb1_torque" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_speed" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_speed" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb0_speed" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b0</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb1_speed" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_angle" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_angle" DataType="INT16" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb0_angle" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b0</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb1_angle" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="rawSpeed" DataType="BOOL" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>If true, the input to the angle integrator is the signal given to Speed output
If false, the output of the speed integrator is the signal given to Speed output</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="2" Name="FiP32" FriendlyName="32 Bit Fixed Point" Author="sfragner" Revision="1" DateCreated="2020-11-20" DateLastChange="2021-08-12" CFileName="HFInjectionSquare_FiP32.c" HFileName="HFInjectionSquare_FiP32.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>32 Bit Fixed Point Implementation</Description><InportContainer><ImplementationInport Name="iAlpha" DataType="INT32"></ImplementationInport><ImplementationInport Name="iBeta" DataType="INT32"></ImplementationInport><ImplementationInport Name="n0" DataType="INT32"></ImplementationInport><ImplementationInport Name="phi0" DataType="INT32"></ImplementationInport><ImplementationInport Name="Enable" DataType="BOOL"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="ud" DataType="INT32"></ImplementationOutport><ImplementationOutport Name="i_eps" DataType="INT32"></ImplementationOutport><ImplementationOutport Name="n" DataType="INT32"></ImplementationOutport><ImplementationOutport Name="phi" DataType="INT32"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="uInjAmp" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Amplitude of injected square wave voltage</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sampleCnt" DataType="INT8" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Sample counter</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="iyArr" DataType="INT32" isLoadable="false" isSaveable="false" isArray="true" isFlashArray="false" arraySize="5"><Description>Array with recent current values in estimated y coordinate</Description><Value><Numeric>[0.0 0.0 0.0 0.0 0.0]</Numeric></Value></ImplementationParameter><ImplementationParameter Name="enable_old" DataType="BOOL" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Enable value of previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_torque" DataType="INT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Torque integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_speed" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_angle" DataType="INT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="vGain" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional gain value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrGain" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor of proportional gain</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_torque" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_torque" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb0_torque" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b0</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb1_torque" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_speed" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_speed" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb0_speed" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b0</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb1_speed" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_angle" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_angle" DataType="INT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb0_angle" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b0</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sfrb1_angle" DataType="INT8" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Shift factor for PI coefficient b1</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="rawSpeed" DataType="BOOL" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>If true, the input to the angle integrator is the signal given to Speed output
If false, the output of the speed integrator is the signal given to Speed output</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="3" Name="Float32" FriendlyName="32 Bit Floating Point" Author="sfragner" Revision="1" DateCreated="2020-11-20" DateLastChange="2021-08-12" CFileName="HFInjectionSquare_Float32.c" HFileName="HFInjectionSquare_Float32.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>32 Bit Floating Point Implementation</Description><InportContainer><ImplementationInport Name="iAlpha" DataType="FLOAT32"></ImplementationInport><ImplementationInport Name="iBeta" DataType="FLOAT32"></ImplementationInport><ImplementationInport Name="n0" DataType="FLOAT32"></ImplementationInport><ImplementationInport Name="phi0" DataType="FLOAT32"></ImplementationInport><ImplementationInport Name="Enable" DataType="BOOL"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="ud" DataType="FLOAT32"></ImplementationOutport><ImplementationOutport Name="i_eps" DataType="FLOAT32"></ImplementationOutport><ImplementationOutport Name="n" DataType="FLOAT32"></ImplementationOutport><ImplementationOutport Name="phi" DataType="FLOAT32"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="uInjAmp" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Amplitude of injected square wave voltage</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sampleCnt" DataType="INT8" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Sample counter</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="iyArr" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="true" isFlashArray="false" arraySize="5"><Description>Array with recent current values in estimated y coordinate</Description><Value><Numeric>[0.0 0.0 0.0 0.0 0.0]</Numeric></Value></ImplementationParameter><ImplementationParameter Name="enable_old" DataType="BOOL" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Enable value of previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_torque" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Torque integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_speed" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_angle" DataType="FLOAT32" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="vGain" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional gain value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_torque" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_torque" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_speed" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_speed" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_angle" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_angle" DataType="FLOAT32" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="rawSpeed" DataType="BOOL" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>If true, the input to the angle integrator is the signal given to Speed output
If false, the output of the speed integrator is the signal given to Speed output</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation><Implementation Id="4" Name="Float64" FriendlyName="64 Bit Floating Point" Author="sfragner" Revision="1" DateCreated="2020-11-20" DateLastChange="2021-08-12" CFileName="HFInjectionSquare_Float64.c" HFileName="HFInjectionSquare_Float64.h" UpdateEnabled="true" ChecksumCFile="" ChecksumHFile="" AllowEmptyLoadFnc="false"><Description>64 Bit Floating Point Implementation</Description><InportContainer><ImplementationInport Name="iAlpha" DataType="FLOAT64"></ImplementationInport><ImplementationInport Name="iBeta" DataType="FLOAT64"></ImplementationInport><ImplementationInport Name="n0" DataType="FLOAT64"></ImplementationInport><ImplementationInport Name="phi0" DataType="FLOAT64"></ImplementationInport><ImplementationInport Name="Enable" DataType="BOOL"></ImplementationInport></InportContainer><OutportContainer><ImplementationOutport Name="ud" DataType="FLOAT64"></ImplementationOutport><ImplementationOutport Name="i_eps" DataType="FLOAT64"></ImplementationOutport><ImplementationOutport Name="n" DataType="FLOAT64"></ImplementationOutport><ImplementationOutport Name="phi" DataType="FLOAT64"></ImplementationOutport></OutportContainer><ParameterContainer><ImplementationParameter Name="uInjAmp" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Amplitude of injected square wave voltage</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="sampleCnt" DataType="INT8" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Sample counter</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="iyArr" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="true" isFlashArray="false" arraySize="5"><Description>Array with recent current values in estimated y coordinate</Description><Value><Numeric>[0.0 0.0 0.0 0.0 0.0]</Numeric></Value></ImplementationParameter><ImplementationParameter Name="enable_old" DataType="BOOL" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Enable value of previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_torque" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Torque integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_speed" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Speed integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="i_old_angle" DataType="FLOAT64" isLoadable="false" isSaveable="false" isArray="false" isFlashArray="false" arraySize="0"><Description>Angle integrator value from previous cycle</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="vGain" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional gain value</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_torque" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_torque" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_speed" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_speed" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b0_angle" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Integral coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="b1_angle" DataType="FLOAT64" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>Proportional coefficient PI</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter><ImplementationParameter Name="rawSpeed" DataType="BOOL" isLoadable="true" isSaveable="true" isArray="false" isFlashArray="false" arraySize="0"><Description>If true, the input to the angle integrator is the signal given to Speed output
If false, the output of the speed integrator is the signal given to Speed output</Description><Value><Numeric>0.0</Numeric></Value></ImplementationParameter></ParameterContainer><Conversion Type="Java"></Conversion><FunctionLink Status="false" BlockName="" ImplementationName=""></FunctionLink></Implementation></ExistingImplementationContainer><UsedImplementation></UsedImplementation></ImplementationConfig></ControlBlock>